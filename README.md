# img2base64

一个简单而强大的图片转Base64工具，支持拖拽操作，快速将图片转换为Markdown兼容的Base64编码字符串。

## 功能特点

- 支持多种图片格式（PNG, JPG, JPEG, GIF, BMP, WEBP）
- 简单易用的拖拽界面
- 自动优化图片尺寸，确保转换后的文件大小合理
- 转换结果自动复制到剪贴板
- 生成Typora兼容的Markdown图片链接
- 无需联网，本地转换，保护隐私
- 可自定义图片质量（1-100）
- 可调节图片尺寸限制（100-2000像素）
- 自动保存用户设置，下次启动时自动加载

## 安装说明

### 方式一：直接使用

1. 从Release页面下载最新的可执行文件（img2base64.exe）
2. 双击运行即可使用，无需安装

### 方式二：使用启动脚本运行

1. 确保已安装Python 3.6+
2. 克隆或下载本仓库
3. 双击运行`start.bat`脚本
   - 脚本会自动创建虚拟环境
   - 自动安装所需依赖
   - 启动程序

### 方式三：手动运行源码

1. 确保已安装Python 3.6+
2. 克隆或下载本仓库
3. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
4. 运行程序：
   ```bash
   python main.py
   ```

## 使用方法

1. 运行程序，会出现一个带有虚线边框的窗口
2. 可以在"图片标签名称"输入框中设置自定义标签名（默认为'image'）
3. 将图片文件直接拖放到窗口中
4. 程序会自动将图片转换为Base64编码，并生成带有自定义标签的Markdown格式图片链接
5. 转换结果会自动复制到剪贴板，可以直接粘贴使用

## 注意事项

- 支持的最大图片尺寸为768x768，超过此尺寸的图片会自动等比例缩放
- 为保证转换效果，建议使用PNG或JPG格式的图片
- 图片处理采用多级压缩策略：
  1. 首先进行尺寸调整，确保图片不超过最大尺寸限制
  2. 然后根据图片格式选择最佳压缩方案
  3. 对于PNG和GIF格式，优先保留透明通道，必要时转换为JPEG进行压缩
  4. 使用渐进式压缩，自动调整压缩质量直至满足大小要求
  5. 如果仍然超出大小限制，会进行适当的尺寸缩减
- 处理大文件时可能需要等待压缩完成

## 自定义设置

- 图片大小限制：可设置1KB至1000KB之间
- 图片最大尺寸：可设置100像素至2000像素之间
- 图片质量：可设置1至100之间的压缩质量
- 所有设置会自动保存，下次启动时自动加载

## 项目结构

```
.
├── main.py           # 主程序文件，包含GUI界面逻辑
├── image_processor.py # 图片处理核心模块
├── styles.py         # UI样式定义文件
├── config.json       # 用户配置文件
├── requirements.txt  # 项目依赖文件
├── start.bat         # 快速启动脚本
├── .gitignore       # Git忽略文件配置
├── CHANGELOG.md     # 更新日志
└── README.md        # 项目说明文档
```

## 开源协议

MIT License